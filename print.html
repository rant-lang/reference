<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rant Reference</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="language-features.html"><strong aria-hidden="true">2.</strong> Language features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="language-features/text.html"><strong aria-hidden="true">2.1.</strong> Text</a></li><li class="chapter-item expanded "><a href="language-features/blocks.html"><strong aria-hidden="true">2.2.</strong> Blocks</a></li><li class="chapter-item expanded "><a href="language-features/functions.html"><strong aria-hidden="true">2.3.</strong> Functions</a></li><li class="chapter-item expanded "><a href="language-features/closures.html"><strong aria-hidden="true">2.4.</strong> Closures</a></li><li class="chapter-item expanded "><a href="language-features/comments.html"><strong aria-hidden="true">2.5.</strong> Comments</a></li><li class="chapter-item expanded "><a href="language-features/escape-sequences.html"><strong aria-hidden="true">2.6.</strong> Escape sequences</a></li><li class="chapter-item expanded "><a href="language-features/data-types.html"><strong aria-hidden="true">2.7.</strong> Data types</a></li><li class="chapter-item expanded "><a href="language-features/variables.html"><strong aria-hidden="true">2.8.</strong> Variables and accessors</a></li><li class="chapter-item expanded "><a href="language-features/collections.html"><strong aria-hidden="true">2.9.</strong> Collections</a></li></ol></li><li class="chapter-item expanded "><a href="constructs.html"><strong aria-hidden="true">3.</strong> Constructs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="constructs/block-attributes.html"><strong aria-hidden="true">3.1.</strong> Block attributes</a></li><li class="chapter-item expanded "><a href="constructs/formatters.html"><strong aria-hidden="true">3.2.</strong> Formatters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="constructs/case-formatter.html"><strong aria-hidden="true">3.2.1.</strong> Case formatter</a></li><li class="chapter-item expanded "><a href="constructs/number-formatter.html"><strong aria-hidden="true">3.2.2.</strong> Number formatter</a></li><li class="chapter-item expanded "><a href="constructs/whitespace-formatter.html"><strong aria-hidden="true">3.2.3.</strong> Whitespace formatter</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="standard-library.html"><strong aria-hidden="true">4.</strong> Standard library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="standard-library/basic-functions.html"><strong aria-hidden="true">4.1.</strong> Basic functions</a></li><li class="chapter-item expanded "><a href="standard-library/formatting.html"><strong aria-hidden="true">4.2.</strong> Formatting</a></li><li class="chapter-item expanded "><a href="standard-library/generators.html"><strong aria-hidden="true">4.3.</strong> Generators</a></li><li class="chapter-item expanded "><a href="standard-library/strings.html"><strong aria-hidden="true">4.4.</strong> String functions</a></li><li class="chapter-item expanded "><a href="standard-library/math.html"><strong aria-hidden="true">4.5.</strong> Math functions</a></li><li class="chapter-item expanded "><a href="standard-library/boolean.html"><strong aria-hidden="true">4.6.</strong> Boolean functions</a></li><li class="chapter-item expanded "><a href="standard-library/collections.html"><strong aria-hidden="true">4.7.</strong> Collections</a></li><li class="chapter-item expanded "><a href="standard-library/block-attributes.html"><strong aria-hidden="true">4.8.</strong> Block attributes</a></li><li class="chapter-item expanded "><a href="standard-library/dva.html"><strong aria-hidden="true">4.9.</strong> Dynamic variable access</a></li></ol></li><li class="chapter-item expanded "><a href="glossary.html"><strong aria-hidden="true">5.</strong> Glossary</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Rant Reference</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/rant-lang/reference" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p>Rant is an all-purpose templating and procedural text generation language.</p>
<blockquote>
<p>This document is a work-in-progress and is not normative.
It only applies to the upcoming version 4 of the Rant language.</p>
<p>Found an error? Want something improved? <a href="https://github.com/rant-lang/reference/issues">Submit an issue</a> or a pull request!</p>
</blockquote>
<h1><a class="header" href="#language-features" id="language-features">Language features</a></h1>
<h1><a class="header" href="#text" id="text">Text</a></h1>
<p>In Rant, text is considered as a combination of two types of tokens: <strong>fragments</strong> and <strong>whitespace</strong>.</p>
<p>Any string of text is a valid Rant program.</p>
<h2><a class="header" href="#fragments" id="fragments">Fragments</a></h2>
<p>A <strong>fragment</strong> is defined in Rant as any sequence of characters that:</p>
<ol>
<li>contains no whitespace,</li>
<li>contains no reserved characters (e.g. braces, brackets, etc.)</li>
</ol>
<p>Rant will output any fragment verbatim.</p>
<pre><code class="language-rant"># Prints &quot;Hello&quot;
Hello
</code></pre>
<h2><a class="header" href="#whitespace" id="whitespace">Whitespace</a></h2>
<p>All sequences of whitespace in a Rant program are normalized to a single space by default.</p>
<p>Rant is very selective about the whitespace it prints. By default, whitespace included in a Rant program is only printed if it is between any two of the following:</p>
<ul>
<li>Fragments</li>
<li>Numbers</li>
<li>Getters</li>
<li>Blocks containing any of the above</li>
<li>Blocks that satisfy the aforementioned requirement</li>
</ul>
<p>All other whitespace (including line breaks) is ignored. Escaped whitespace (<code>\t</code>, <code>\s</code>, etc.) are exempt from this rule.</p>
<blockquote>
<p>TODO: Add examples</p>
</blockquote>
<h2><a class="header" href="#hinting" id="hinting">Hinting</a></h2>
<p>Because Rant's whitespace rules are quite strict, it is sometimes necessary to give the compiler additional information about the structure of your output.</p>
<p>This can be achieved by adding <strong>hints</strong> (symbolized by a <code>'</code>) to your code. 
A hint informs the compiler that the next element of code will print to the output, and that the whitespace between it and another printing element should be included.</p>
<p>The following elements are implicitly hinted:</p>
<ul>
<li>Numbers</li>
<li>Variable getters</li>
<li>Blocks containing at least one fragment, number, getter, hinted element, or nested block that meets this requirement</li>
</ul>
<p>The act of a block inheriting a hint from its contents is known as &quot;taking the hint.&quot;</p>
<pre><code class="language-rant"># Implicitly hinted (block contains fragments)
The coin landed on {Heads|Tails}.

# Explicitly hint the function call so the compiler knows it prints something
Your lucky number is '[num:1;100].
</code></pre>
<h2><a class="header" href="#sinking" id="sinking">Sinking</a></h2>
<p>If you want to suppress the output of a code element, you can <strong>sink</strong> it with the <code>_</code> operator.</p>
<p>Sinking an element has the opposite effect of hinting: it will be marked as &quot;non-printing&quot; and any whitespace between it and another non-printing element will also be ignored.</p>
<p>Only fragments and numbers cannot be sinked; the <code>_</code> character will be interpreted as text in such contexts.</p>
<p>Blocks that are sinked cannot take a hint.</p>
<pre><code class="language-rant">{Now you see me...}     # Prints like normal
_{Now you don't.}       # Prints nothing
Goodbye _{cruel} world! # Prints &quot;Goodbye world!&quot;
_Fragment               # Prints &quot;_Fragment&quot;, as fragments cannot be sinked
</code></pre>
<h2><a class="header" href="#string-literals" id="string-literals">String literals</a></h2>
<p>If you want to treat any text as a single fragment, you can wrap it in a string literal using double quotes:</p>
<pre><code class="language-rant">&quot;    This text is indented&quot;
</code></pre>
<p>They even work over several lines:</p>
<pre><code class="language-rant">&quot;This
text
has
several
lines&quot;
</code></pre>
<h1><a class="header" href="#blocks" id="blocks">Blocks</a></h1>
<p>A <strong>block</strong> is a unit of Rant code subdivided into zero or more parts.</p>
<h2><a class="header" href="#syntax" id="syntax">Syntax</a></h2>
<p>A block is defined by a set of braces containing zero or more sections of Rant code separated by vertical pipes (<code>|</code>). Here are a few examples:</p>
<pre><code class="language-rant">{}          # Empty block
{A}         # Block with one element
{A|B}       # Block with multiple elements
</code></pre>
<h2><a class="header" href="#use-cases" id="use-cases">Use cases</a></h2>
<p>Blocks serve several purposes in Rant, ranging from simple element selection to collections and even loops. They can contain any kind of Rant code—even other blocks.</p>
<h3><a class="header" href="#item-selection" id="item-selection">Item selection</a></h3>
<p>In their simplest form, blocks resolve a single element from their body and add it to the output.</p>
<pre><code class="language-rant"># Randomly prints &quot;Heads&quot; or &quot;Tails&quot; with uniform probability
{Heads|Tails}
</code></pre>
<p>By default, blocks select a random element with uniform probability, but the selection strategy can be customized if needed using a <a href="language-features//constructs/selectors.html">selector</a>.</p>
<h3><a class="header" href="#entanglement" id="entanglement">Entanglement</a></h3>
<p>A group of blocks can be &quot;entangled&quot; so that they all coordinate their selections.</p>
<pre><code class="language-rant"># Create a selector and store it in a variable
&lt;$sync = [mksel:one]&gt;
# Both blocks use the `sync` selector, so they're entangled
[sel:&lt;sync&gt;]{Dogs|Cats} say \&quot;[sel:&lt;sync&gt;]{woof|meow}!\&quot;

##
Possible outputs:
- Dogs say &quot;woof!&quot;
- Cats say &quot;meow!&quot;
##
</code></pre>
<h3><a class="header" href="#variable-scope" id="variable-scope">Variable scope</a></h3>
<p>Blocks also act as scopes for local variables. Any variables created inside of a block are destroyed immediately after the block resolves.</p>
<h3><a class="header" href="#stored-blocks" id="stored-blocks">Stored blocks</a></h3>
<p>Blocks can also be stored in variables for later use. To treat a block like a value instead of resolving, you need to prefix it with the <code>*</code> symbol.
If the block requires a hint or sink, the <code>*</code> must appear after it.</p>
<pre><code class="language-rant">&lt;$cool-block = *{Ohhh yeah!}&gt;
</code></pre>
<p>Then you can resolve it later with the <code>[resolve]</code> function:</p>
<pre><code class="language-rant">[resolve:&lt;cool-block&gt;] # &quot;Ohhh yeah!&quot;
</code></pre>
<p>Blocks are similar to closures when used this way, but only in that they contain code you can store and run later. Stored blocks make several guarantees that closures and functions cannot:</p>
<ol>
<li>They never require arguments</li>
<li>They never capture variables</li>
<li>They will always consume block attributes</li>
</ol>
<h2><a class="header" href="#restrictions-on-function-bodies-and-dynamic-keys" id="restrictions-on-function-bodies-and-dynamic-keys">Restrictions on function bodies and dynamic keys</a></h2>
<p>Blocks used as function bodies and dynamic accessor keys are &quot;linear&quot; blocks: they can only contain one element and never consume block attributes.
Attempting to use a multi-element block in these contexts will cause a compiler error.</p>
<p>This design consideration prevents function calls and accessors from unintentionally consuming block attributes unless the user explicitly requests it by adding an inner block.</p>
<h1><a class="header" href="#functions" id="functions">Functions</a></h1>
<p>Functions contain code that can be executed arbitrarily. The Rant standard library includes several native functions, but you can also define your own.</p>
<h2><a class="header" href="#calling-functions" id="calling-functions">Calling functions</a></h2>
<p>Function calls use the following syntax:</p>
<pre><code class="language-rant"># Function with no arguments
[func-name]

# Function with one argument
[func-name: arg1]

# Function with multiple arguments, delimited by ';'
[func-name: arg1; arg2]
</code></pre>
<h2><a class="header" href="#defining-functions" id="defining-functions">Defining functions</a></h2>
<p>To define a function and assign it to a variable, the syntax is as follows:</p>
<pre><code class="language-rant"># Define a parameterless function named `say-hello` that prints &quot;Hello&quot;
[$say-hello] {
    Hello
}

# Define a function `greet` with parameter `name` that prints a custom greeting
[$greet: name] {
    Hello, &lt;name&gt;!
}

# Define a function `flip-coin` that returns the value of either `heads` and `tails`
[$flip-coin: heads; tails] {
    {&lt;heads&gt;|&lt;tails&gt;}
}
</code></pre>
<h3><a class="header" href="#optional-parameters" id="optional-parameters">Optional parameters</a></h3>
<p>A function parameter can be marked as optional using the <code>?</code> symbol.
When the argument is omitted for an optional parameter, it will default to the empty value <code>&lt;&gt;</code>.
Please note that any optional parameters must appear after all required parameters, and before any variadic parameter.</p>
<pre><code class="language-rant"># Generates a map for a pet with a name and species (defaults to &quot;dog&quot;)
[$gen-pet: name; species?] {
    @(
        name = &lt;name&gt;|
        species = [alt: &lt;species&gt;; dog]
    )
}
</code></pre>
<h3><a class="header" href="#variadic-parameters" id="variadic-parameters">Variadic parameters</a></h3>
<p>Functions support variadic parameters with the special symbols <code>*</code> and <code>+</code>.</p>
<p>A <code>*</code> parameter is optional and defaults to an empty list, while a <code>+</code> parameter is required and must contain at least one element.</p>
<p>Functions may only have up to one variadic parameter, and it must appear last in the signature.</p>
<pre><code class="language-rant">[$how-many:items*] {
    [len:&lt;items&gt;]
}

[how-many: foo; bar; baz] # Outputs &quot;3&quot;
</code></pre>
<h1><a class="header" href="#closures" id="closures">Closures</a></h1>
<p>It is sometimes necessary to pass a function as a value rather than define it with a name, so that it can be called elsewhere later on.
This can be done using <strong>closures</strong>, which are an implementation of anonymous functions with the ability to &quot;capture&quot; external variables.</p>
<blockquote>
<p>TODO: Provide variable capture examples</p>
</blockquote>
<p>Basic closure syntax with no parameters consists of a <code>?</code> symbol inside brackets preceding the function body. </p>
<pre><code class="language-rant"># Creates a closure and places it on the output
[?]{A|B|C|D}
</code></pre>
<h2><a class="header" href="#parameterized-closures" id="parameterized-closures">Parameterized closures</a></h2>
<p>If you want to add parameters to a closure, specify the parameter names as you would with a normal function inside the closure's signature:</p>
<pre><code class="language-rant">[?:param1;param2]{ ... }
</code></pre>
<h2><a class="header" href="#calling-anonymous-functions" id="calling-anonymous-functions">Calling anonymous functions</a></h2>
<p>Calling an anonymous function uses the same syntax as regular function calls, but the function name is replaced by the <code>!</code> symbol followed by an expression that provides the function (or closure) you want to call.</p>
<pre><code class="language-rant"># Define a function that returns a parameterless box
[$get-anon-func] {
    [?]{Hello from anonymous function}
}

[![get-anon-func]]          # &quot;Hello from anonymous function&quot;

# Define a function that returns a box with a single parameter
[$get-greet-func] {
    [?:name]{Hello, &lt;name&gt;!}
}

[![get-greet-func]:Rant]    # &quot;Hello, Rant!&quot;
</code></pre>
<h1><a class="header" href="#comments" id="comments">Comments</a></h1>
<p>Comments are used to annotate code without affecting its behavior.
This is useful for adding descriptions to your code that offer further explanation of the functionality.</p>
<p>There are two types of comments in Rant: single-line and multi-line.</p>
<h2><a class="header" href="#single-line-comments" id="single-line-comments">Single-line comments</a></h2>
<p>A single-line comment begins with the <code>#</code> character and terminates at the end of the current line.
They do not have to start at the beginning of a line.</p>
<pre><code class="language-rant"># This is a comment
{A|B|C} # This is an inline comment
</code></pre>
<h2><a class="header" href="#multi-line-comments" id="multi-line-comments">Multi-line comments</a></h2>
<p>A multi-line comment can span multiple lines and is enclosed by two <code>#</code> characters on each end:</p>
<pre><code class="language-rant">##
This is
a multi-line
comment
##
</code></pre>
<h1><a class="header" href="#escape-sequences" id="escape-sequences">Escape sequences</a></h1>
<p>It will, of course, be necessary to sometimes print reserved characters, or characters that cannot be typed on a standard keyboard.
To this end, Rant offers escape sequences.</p>
<h2><a class="header" href="#character-escape-sequences" id="character-escape-sequences">Character escape sequences</a></h2>
<p>Any reserved (and most non-reserved) characters can be printed by prefixing each one with a backslash character:</p>
<pre><code class="language-rant">\{This text will print with braces around it\}
</code></pre>
<h2><a class="header" href="#special-escape-sequences" id="special-escape-sequences">Special escape sequences</a></h2>
<p>Certain characters are not interpreted verbatim when escaped, and instead have special meaning.
Here's a list of them:</p>
<table><thead><tr><th>Escape sequence</th><th>Output character</th></tr></thead><tbody>
<tr><td><code>\r</code></td><td>Carriage return (U+000D)</td></tr>
<tr><td><code>\n</code></td><td>Line feed (U+000A)</td></tr>
<tr><td><code>\s</code></td><td>Space (U+0020)</td></tr>
<tr><td><code>\t</code></td><td>Tab (U+0009)</td></tr>
<tr><td><code>\0</code></td><td>Null character (U+0000)</td></tr>
<tr><td><code>\xXX</code></td><td>UTF-8 character code <em>[See below]</em></td></tr>
</tbody></table>
<h2><a class="header" href="#unicode-escape-sequences" id="unicode-escape-sequences">Unicode escape sequences</a></h2>
<p>Escape sequences can also be used to print characters by their Unicode code point in hexadecimal format:</p>
<pre><code class="language-rant">\xE4    # 'ä'
</code></pre>
<h1><a class="header" href="#data-types" id="data-types">Data types</a></h1>
<p>Rant has 10 built-in data types:</p>
<table><thead><tr><th>Type name</th><th>Description</th><th>Pass type</th></tr></thead><tbody>
<tr><td><code>string</code></td><td>Sequence of UTF-8 characters</td><td>by-value</td></tr>
<tr><td><code>integer</code></td><td>64-bit signed integer</td><td>by-value</td></tr>
<tr><td><code>float</code></td><td>64-bit double-precision float</td><td>by-value</td></tr>
<tr><td><code>bool</code></td><td>Boolean value</td><td>by-value</td></tr>
<tr><td><code>function</code></td><td>Function/closure</td><td>by-ref</td></tr>
<tr><td><code>list</code></td><td>List of values</td><td>by-ref</td></tr>
<tr><td><code>map</code></td><td>String-keyed collection of values</td><td>by-ref</td></tr>
<tr><td><code>block</code></td><td>Stored block</td><td>by-ref</td></tr>
<tr><td><code>special</code></td><td>Handle to internal runtime data, such as a selector</td><td>by-ref</td></tr>
<tr><td><code>empty</code></td><td>Unit type representing &quot;null&quot; value</td><td>by-value</td></tr>
</tbody></table>
<h2><a class="header" href="#the-empty-type" id="the-empty-type">The <code>empty</code> type</a></h2>
<p>To represent the lack of a value, Rant has the <code>empty</code> type, which has only one possible value, represented by the token <code>&lt;&gt;</code>.</p>
<pre><code class="language-rant">&lt;$nothing = &lt;&gt;&gt;   # i.e. &lt;$nothing&gt;
[type:&lt;nothing&gt;]  # empty
</code></pre>
<h2><a class="header" href="#boolean-values" id="boolean-values">Boolean values</a></h2>
<p>The two boolean values are represented by the keywords <code>true</code> and <code>false</code>.
These keywords can still be used as fragments when not used alone, as their string representations are simply <code>&quot;true&quot;</code> and <code>&quot;false&quot;</code>;
however, if they are passed on their own and need to be strings, you will need to put them in a string literal.</p>
<h2><a class="header" href="#type-inference-for-expressions" id="type-inference-for-expressions">Type inference for expressions</a></h2>
<p>In order to resolve type ambiguities, Rant makes a few basic assumptions:</p>
<h4><a class="header" href="#integers" id="integers">Integers</a></h4>
<p>Any number token without a decimal place becomes an integer.</p>
<pre><code class="language-rant">[type:123]  # integer
</code></pre>
<h4><a class="header" href="#floats" id="floats">Floats</a></h4>
<p>Any number token with a decimal place becomes a float.</p>
<pre><code class="language-rant">[type:123.0]  # float
</code></pre>
<h4><a class="header" href="#top-level-fragments-or-whitespace" id="top-level-fragments-or-whitespace">Top-level fragments or whitespace</a></h4>
<p>Any expression containing top-level text (i.e. not in a collection) evaluates to a string.</p>
<p>Whitespace at the start or end of an expression is ignored.</p>
<pre><code class="language-rant"># Since there are fragments and whitespace, it's a string
[type:99 bottles of beer]  # string

# Since there is whitespace between the numbers, the value is still a string
[type:99 99]  # string
</code></pre>
<h4><a class="header" href="#multiple-values-in-a-sequence" id="multiple-values-in-a-sequence">Multiple values in a sequence</a></h4>
<p>If there are multiple values in an expression and at least one is non-empty, it evaluates to a string.</p>
<pre><code class="language-rant"># Even though they are all integer tokens, they are treated as text
[type:10 20 30 40 50]  # string
</code></pre>
<h4><a class="header" href="#empties" id="empties">Empties</a></h4>
<p>Expressions containing only empties evaluate to the empty value.</p>
<p>Expressions containing nothing also evaluate to the empty value.</p>
<pre><code class="language-rant">[type:&lt;&gt;&lt;&gt;]     # empty
[type:&lt;&gt;]       # empty
[type:]         # empty
</code></pre>
<h1><a class="header" href="#variables-and-accessors" id="variables-and-accessors">Variables and accessors</a></h1>
<p>Variables enable you to store and retrieve values.</p>
<p>Rant is a dynamically-typed language, meaning that variables have no set type;
for example, you can initialize a variable with an integer, and change it later on to a string.</p>
<h2><a class="header" href="#accessors" id="accessors">Accessors</a></h2>
<p>Variables are defined, written to, and retrieved using <strong>accessors</strong>, which are written inside angle brackets.</p>
<p>Accessors have three subtypes: <strong>definitions</strong>, <strong>setters</strong>, and <strong>getters</strong>.</p>
<h3><a class="header" href="#definitions" id="definitions">Definitions</a></h3>
<p>Defining a variable creates it in the current scope, but is not required to initialize it with a value.
You can leave the assignment part out and it will be initialized to the empty value (<code>&lt;&gt;</code>).</p>
<p>All variable definitions begin with the <code>$</code> symbol.</p>
<pre><code class="language-rant"># Define a variable `name` but leave it empty (value is `&lt;&gt;`)
&lt;$name&gt;

# Define a variable `name` and assign it the string &quot;Nick&quot;
&lt;$name = Nick&gt;
</code></pre>
<h3><a class="header" href="#setters" id="setters">Setters</a></h3>
<p>Setters are very similar to definitions, but they only work on existing variables.</p>
<pre><code class="language-rant"># Define a variable
&lt;$name = Bob&gt;
# Overwrite value on existing variable `name`
&lt;name = Susan&gt;
</code></pre>
<p>Along with setting variables, setters can also write to specific elements of collections.</p>
<pre><code class="language-rant">&lt;$numbers = (1; 2; 3)&gt;
&lt;numbers/0 = 4&gt; # list is now (4; 2; 3)
</code></pre>
<h3><a class="header" href="#getters" id="getters">Getters</a></h3>
<p>A getter retrieves some value from a variable or expression and prints it to the output.</p>
<p>Attempting to retrieve a variable that does not exist results in a runtime error.</p>
<pre><code class="language-rant"># Get value of `name` (note the lack of '$')
&lt;$name = Robin&gt;
My name is &lt;name&gt;. # Prints &quot;My name is Robin.&quot;
</code></pre>
<p>You can also use getters to access an index or key on the value of an expression by making the expression the first part of the path:</p>
<pre><code class="language-rant">[$gen-test-map] {@(foo=bar)}
&lt;{[gen-test-map]}/foo&gt; # Prints &quot;bar&quot;
</code></pre>
<h3><a class="header" href="#multi-part-accessors" id="multi-part-accessors">Multi-part accessors</a></h3>
<p>To aid readability, Rant also allows you to place several access operations in a single accessor block.
Simply end each operation with a semicolon; the final semicolon is optional and may be omitted.</p>
<pre><code class="language-rant">&lt;$first-name = John; $last-name = Smith; $full-name = &lt;first-name&gt;\s&lt;last-name&gt;;&gt;
</code></pre>
<h2><a class="header" href="#variable-scope-1" id="variable-scope-1">Variable scope</a></h2>
<p>Variables only live as long as the expression or block in which they are defined.</p>
<p>Blocks, function arguments, setter expressions, dynamic keys, and function bodies are all examples of variable scopes.
As soon as a scope is finished running, all variables defined within it are discarded.</p>
<h3><a class="header" href="#child-scopes" id="child-scopes">Child scopes</a></h3>
<p>Child scopes inherit variables from parent scopes. In addition, they may define their own variables.</p>
<pre><code class="language-rant">{
    &lt;$a = 1&gt;
    {
        &lt;$b = 2&gt;
        [add: &lt;a&gt;; &lt;b&gt;] # Outputs &quot;3&quot;
    }
}
</code></pre>
<h3><a class="header" href="#shadowing" id="shadowing">Shadowing</a></h3>
<p>Variables in a parent scope can be temporarily hidden (&quot;shadowed&quot;) by defining a variable of the same name in a child scope.</p>
<p>When the child variable goes out of scope, the shadowed parent variable will once again become accessible.</p>
<pre><code class="language-rant"># Define variable `a` in parent scope
&lt;$a = foo&gt;
a is &lt;a&gt;\n
{
    # Define another variable `a` in child scope
    # Parent variable is not affected
    &lt;$a = bar&gt;
    a is &lt;a&gt;\n
}
# Parent variable takes over after child scope exits
a is &lt;a&gt;

##
    Output:

    a is foo
    a is bar
    a is foo
##
</code></pre>
<h3><a class="header" href="#the-descope-operator" id="the-descope-operator">The 'descope' operator</a></h3>
<p>If a child scope shadows a parent variable and you want to access the parent variable explicitly, you can use the <strong>descope operator</strong>.</p>
<p>To do this, prefix the variable name with a <code>^</code> character.</p>
<pre><code class="language-rant">&lt;$a = foo&gt;
{
    &lt;$a = bar&gt;
    Shadowed: &lt;a&gt;\n
    Descoped: &lt;^a&gt;\n
}

##
    Output:

    Shadowed: bar
    Descoped: foo
##
</code></pre>
<p>Adding more than one <code>^</code> character in a row will skip up to that many scopes.
These operations are called &quot;<em>n</em>-descopes&quot;, where <em>n</em> is the number of scopes skipped:
For example, <code>&lt;^^foo&gt;</code> is a 2-descope, <code>&lt;^^^foo&gt;</code> is a 3-descope, and so on.</p>
<pre><code class="language-rant"># Define `test`
&lt;$test = foo&gt;
{
    # Shadow `test`
    &lt;$test = bar&gt;
    {
        # Shadow `test` again
        &lt;$test = baz&gt;
        &lt;^^test&gt; &lt;^test&gt; &lt;test&gt;
    }
}
## Output: &quot;foo bar baz&quot;
</code></pre>
<p>While the compiler imposes no explicit limit on descope depth, use cases for large descope depths are rare and it is recommended to avoid them when possible.</p>
<pre><code class="language-rant"># An example of a 360-descope.
&lt;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
foo&gt;
</code></pre>
<h3><a class="header" href="#explicitly-accessing-global-variables" id="explicitly-accessing-global-variables">Explicitly accessing global variables</a></h3>
<p>The top level of a Rant program implicitly defines a local variable scope; 
because of this, top-level variables will only persist for the duration of the program.</p>
<p>To explicitly access a variable in the global scope, prefix the path with the <code>/</code> character.</p>
<p>Similarly to the descope operator, this method also allows you to override shadowing on globals.</p>
<pre><code class="language-rant">&lt;$foo = Hello from program scope!&gt;
&lt;$/foo = Hello from global scope!&gt;

Local: &lt;foo&gt;\n
Global: &lt;/foo&gt;\n

##
    Output:

    Local: Hello from program scope!
    Global: Hello from global scope!
##
</code></pre>
<h1><a class="header" href="#collections" id="collections">Collections</a></h1>
<p>Rant's variable system has two collection types: <strong>lists</strong> and <strong>maps</strong>.</p>
<h2><a class="header" href="#lists" id="lists">Lists</a></h2>
<p>Lists are resizable arrays of values. They may contain multiple types of values.</p>
<p>Lists are initialized using a pair of parentheses containing the list elements, separated by semicolons:</p>
<pre><code class="language-rant"># A pair of parentheses is treated like an empty list
&lt;$empty-list = ()&gt;

# Initialize a list with one empty element
&lt;$one-empty = (&lt;&gt;)&gt;

# Create a list with two empty elements
&lt;$two-empty = (;)&gt; # Short for (&lt;&gt;;&lt;&gt;)

# Create a list of numbers
&lt;$lucky-numbers = (1; 2; 3; 5; 7; 11; 13)&gt;

# Create a list of lists
&lt;$important-lists = ((A; B; C); (D; E; F))&gt;
</code></pre>
<h2><a class="header" href="#maps" id="maps">Maps</a></h2>
<p>Maps are un-ordered collections of key-value pairs, where each key is unique.
Map keys are always strings: even if you try to use a non-string as a map key, it will be automatically converted to a string first.</p>
<p>Maps use similar syntax to lists, but with some extra requirements:</p>
<ul>
<li>The <code>@</code> symbol must appear before the opening <code>(</code> to identify the collection as a map.</li>
<li>Each element must be a key-value pair, with the key and value separated by an <code>=</code> symbol.</li>
</ul>
<p>Map keys come in two flavors:</p>
<ul>
<li><strong>Static keys:</strong> Evaluated at compile-time. They must be identifiers or string literals.</li>
<li><strong>Dynamic keys:</strong> Evaluated at run-time. They must be blocks.</li>
</ul>
<pre><code class="language-rant"># Create an empty map
&lt;$empty-map = @()&gt;

# Create a map with various value types
&lt;$secret-key = occupation&gt;
&lt;$person = @(
    name = John;
    age = 25;
    &quot;favorite color&quot; = {red|green|blue};
    {&lt;secret-key&gt;} = programmer
)&gt;
</code></pre>
<h2><a class="header" href="#retrieving-values-from-collections" id="retrieving-values-from-collections">Retrieving values from collections</a></h2>
<p>Variable accessors can also access individual elements in lists and maps by using the access operator <code>/</code>.</p>
<pre><code class="language-rant">&lt;$person = @(
    name = Bob;
    age = 30;
    hobbies = (programming;hiking)
)&gt;

name = &lt;person/name&gt;\n
age = &lt;person/age&gt;\n
hobbies = [join:&lt;person/hobbies&gt;;,\s]

##
    Output:

    name = Bob
    age = 30
    hobbies = programming, hiking
##
</code></pre>
<p>Additionally, a variable access path does not need to be made out of entirely constants. You can use a block to resolve to a key or index.</p>
<p><strong>Map example</strong></p>
<pre><code class="language-rant">&lt;$my-map = @(
    a = foo; b = bar; c = baz
)&gt;

&lt;my-map/{a|b|c}&gt;
# Outputs &quot;foo&quot;, &quot;bar&quot;, or &quot;baz&quot;
</code></pre>
<p><strong>List example</strong></p>
<pre><code class="language-rant">&lt;$my-list = (foo;bar;baz)&gt;

&lt;my-list/0&gt;             # &quot;foo&quot;
&lt;my-list/1&gt;             # &quot;bar&quot;
&lt;my-list/2&gt;             # &quot;baz&quot;
&lt;my-list/{[n:0;2]}&gt;     # &quot;foo&quot;, &quot;bar&quot;, or &quot;baz&quot;
</code></pre>
<h1><a class="header" href="#constructs" id="constructs">Constructs</a></h1>
<p><strong>Constructs</strong> are special runtime variables that Rant can natively interact with to tailor the output of a program.
There are several construct types currently supported in Rant, divided into the following categories:</p>
<ul>
<li><a href="/constructs/block-attributes.html">Block attributes</a></li>
<li><a href="/constructs/formatters.html">Formatters</a></li>
<li><a href="/constructs/targets.html">Targets</a></li>
</ul>
<h1><a class="header" href="#block-attributes" id="block-attributes">Block attributes</a></h1>
<p><strong>Block attributes</strong> are a set of constructs that control various aspects of block behavior.
There are several block attributes available that the user can set via the standard library.</p>
<h2><a class="header" href="#repetitions" id="repetitions">Repetitions</a></h2>
<p>By setting the repetitions attribute, you can control how many times the next encountered block will run.
This attribute is set with the <code>[rep]</code> function.</p>
<h3><a class="header" href="#example" id="example">Example</a></h3>
<pre><code class="language-rant">[rep:10]{[step]\n}
# Output:
# 1
# 2
# 3
# 4
# 5
# 6
# 7
# 8
# 9
# 10
</code></pre>
<h2><a class="header" href="#separator" id="separator">Separator</a></h2>
<p>The separator attribute controls what is printed between each block repetition.
It is set using the <code>[sep]</code> function.</p>
<h3><a class="header" href="#example-1" id="example-1">Example</a></h3>
<pre><code class="language-rant">[rep:4][sep:&quot; and &quot;]
It just keeps {going}...

# Output:
# It just keeps going and going and going and going...
</code></pre>
<h2><a class="header" href="#selector" id="selector">Selector</a></h2>
<p>The selector attribute controls how Rant chooses which branch of a block to take. It does this using a special state machine object, which must be created separately but can be shared between blocks to coordinate their behavior.</p>
<h3><a class="header" href="#example-2" id="example-2">Example</a></h3>
<pre><code class="language-rant"># Print every element of the block in a random order with no duplicates

&lt;$s=[mksel:deck]&gt;  # Create a &quot;deck&quot; selector
[sel:&lt;s&gt;]          # Apply the selector
[rep:all]          # Set repetitions
[sep:,\s]          # Set separator
{A|B|C|D|E|F|G|H}

# Output
# F, C, E, G, B, H, D, A
</code></pre>
<h2><a class="header" href="#attribute-frames" id="attribute-frames">Attribute frames</a></h2>
<p>The Rant runtime maintains a stack of &quot;attribute frames&quot;, which store block attributes.
The resolver always reads attributes from the topmost frame in the attribute frame stack. 
This stack can be used to limit the scope of block attributes.</p>
<p>The attribute frame stack can be manipulated with the <code>[push-attrs]</code> and <code>[pop-attrs]</code> functions.</p>
<h1><a class="header" href="#formatters" id="formatters">Formatters</a></h1>
<p>Formatters are constructs that can apply various formatting filters to program output.</p>
<h1><a class="header" href="#case-formatter" id="case-formatter">Case formatter</a></h1>
<h1><a class="header" href="#number-formatter" id="number-formatter">Number formatter</a></h1>
<p>The <strong>number formatter</strong> controls how Rant converts numeric values (integers and floats) to strings in the program output.</p>
<h1><a class="header" href="#whitespace-formatter" id="whitespace-formatter">Whitespace formatter</a></h1>
<p>The <strong>whitespace formatter</strong> controls how whitespace is written to the program output.</p>
<h1><a class="header" href="#standard-library" id="standard-library">Standard library</a></h1>
<p>The Rant Standard Library contains many useful and some essential functions that are natively implemented in the Rant runtime itself.</p>
<h1><a class="header" href="#basic-functions" id="basic-functions">Basic functions</a></h1>
<h3><a class="header" href="#alt-a-b" id="alt-a-b">[alt: a; b+]</a></h3>
<p>Prints the first argument that isn't the empty value <code>&lt;&gt;</code>.</p>
<h3><a class="header" href="#call-func-args" id="call-func-args">[call: func; args]</a></h3>
<p>Calls the function <code>func</code> with the argument list <code>args</code>.</p>
<h4><a class="header" href="#errors" id="errors">Errors</a></h4>
<p>Causes a runtime error if either of the following are true:</p>
<ul>
<li><code>func</code> isn't a function</li>
<li><code>args</code> isn't a list</li>
</ul>
<h3><a class="header" href="#nop-args" id="nop-args">[nop: args*]</a></h3>
<p>Does absolutely nothing. Intended for use as a default/placeholder callback.</p>
<h3><a class="header" href="#resolve-block" id="resolve-block">[resolve: block]</a></h3>
<p>Resolves the specified block.</p>
<h4><a class="header" href="#errors-1" id="errors-1">Errors</a></h4>
<p>Causes a runtime error if the provided value is not a block.</p>
<h3><a class="header" href="#seed" id="seed">[seed]</a></h3>
<p>Returns the seed value that the program was run with.</p>
<h3><a class="header" href="#type-value" id="type-value">[type: value]</a></h3>
<p>Returns the name of <code>value</code>'s type. The type name can be any of the following:</p>
<ul>
<li><code>string</code></li>
<li><code>float</code></li>
<li><code>integer</code></li>
<li><code>bool</code></li>
<li><code>function</code></li>
<li><code>list</code></li>
<li><code>map</code></li>
<li><code>special</code></li>
<li><code>empty</code></li>
</ul>
<h1><a class="header" href="#formatting" id="formatting">Formatting</a></h1>
<h3><a class="header" href="#whitespace-fmt-mode-custom-value" id="whitespace-fmt-mode-custom-value">[whitespace-fmt: mode?; custom-value?]</a></h3>
<p>Gets or sets the whitespace normalization mode.
This does not affect whitespace in escape sequences and string literals.</p>
<p>Passing no arguments to this function will simply get the current mode.</p>
<h4><a class="header" href="#formatting-modes" id="formatting-modes">Formatting modes</a></h4>
<table><thead><tr><th>Mode</th><th>Description</th></tr></thead><tbody>
<tr><td><code>default</code></td><td><em>(Default)</em> Normalizes all whitespace to a single ASCII space character (0x20).</td></tr>
<tr><td><code>verbatim</code></td><td>Prints all printable whitespace as it appears in the code.</td></tr>
<tr><td><code>ignore-all</code></td><td>Ignores all printable whitespace.</td></tr>
<tr><td><code>custom</code></td><td>Replaces all whitespace sequences with the <code>custom-value</code> argument.</td></tr>
</tbody></table>
<h4><a class="header" href="#example-3" id="example-3">Example</a></h4>
<pre><code class="language-rant">[whitespace-fmt: default] The quick brown fox    jumps over the lazy dog.
# Output: The quick brown fox jumps over the lazy dog.

[whitespace-fmt: verbatim] The quick brown fox    jumps over the lazy dog.
# Output: The quick brown fox    jumps over the lazy dog.

[whitespace-fmt: ignore-all] The quick brown fox    jumps over the lazy dog.
# Output: Thequickbrownfoxjumpsoverthelazydog.

[whitespace-fmt: custom; ...\s] The quick brown fox    jumps over the lazy dog.
# Output: The... quick... brown... fox... jumps... over... the... lazy... dog.
</code></pre>
<h1><a class="header" href="#generators" id="generators">Generators</a></h1>
<h3><a class="header" href="#dec-count" id="dec-count">[dec: count?]</a></h3>
<p>Prints a uniformly random decimal digit. If <code>count</code> is specified, repeats <code>count</code> times.</p>
<h3><a class="header" href="#hex-count" id="hex-count">[hex: count?]</a></h3>
<p>Prints a uniformly random lowercase hexadecimal digit. If <code>count</code> is specified, repeats <code>count</code> times.</p>
<h3><a class="header" href="#maybe-p" id="maybe-p">[maybe: p?]</a></h3>
<p>Returns a <code>bool</code> value with <code>p</code> probability of being true.</p>
<p><code>p</code> must be either a <code>float</code> or <code>empty</code>. If omitted, it will default to <code>0.5</code>.</p>
<h3><a class="header" href="#num-min-max" id="num-min-max">[num: min; max]</a></h3>
<p>Prints a random integer with uniform distribution between <code>min</code> and <code>max</code> (both inclusive).</p>
<h4><a class="header" href="#example-4" id="example-4">Example</a></h4>
<pre><code class="language-rant">You roll the dice and get '[n:1;6] and '[n:1;6].
# You roll the dice and get 2 and 5.
</code></pre>
<h3><a class="header" href="#numf-min-max" id="numf-min-max">[numf: min; max]</a></h3>
<p>Prints a random float with uniform distribution between <code>min</code> (inclusive) and <code>max</code> (exclusive).</p>
<h1><a class="header" href="#string-functions" id="string-functions">String functions</a></h1>
<h3><a class="header" href="#split-text-sep" id="split-text-sep">[split: text; sep?]</a></h3>
<p>Splits the input text by <code>sep</code> into a list of strings. If <code>sep</code> is omitted, splits into characters.</p>
<h3><a class="header" href="#seg-text-size" id="seg-text-size">[seg: text; size]</a></h3>
<p>Segments the input text into a list of strings of <code>size</code> length.</p>
<h1><a class="header" href="#math-functions" id="math-functions">Math functions</a></h1>
<h3><a class="header" href="#add-lhs-rhs" id="add-lhs-rhs">[add: lhs; rhs]</a></h3>
<p>Adds two values.</p>
<h3><a class="header" href="#sub-lhs-rhs" id="sub-lhs-rhs">[sub: lhs; rhs]</a></h3>
<p>Subtracts two values.</p>
<h3><a class="header" href="#mul-lhs-rhs" id="mul-lhs-rhs">[mul: lhs; rhs]</a></h3>
<p>Multiplies two values.</p>
<h3><a class="header" href="#div-lhs-rhs" id="div-lhs-rhs">[div: lhs; rhs]</a></h3>
<p>Divides two values.</p>
<h3><a class="header" href="#mod-lhs-rhs" id="mod-lhs-rhs">[mod: lhs; rhs]</a></h3>
<p>Gets the modulus of two values.</p>
<h3><a class="header" href="#mul-add-lhs-rhs-add" id="mul-add-lhs-rhs-add">[mul-add: lhs; rhs; add]</a></h3>
<p>Multiplies two values, then adds another value to the result.</p>
<h3><a class="header" href="#neg-n" id="neg-n">[neg: n]</a></h3>
<p>Negates a value.</p>
<h3><a class="header" href="#recip-n" id="recip-n">[recip: n]</a></h3>
<p>Gets the reciprocal of a value.</p>
<h1><a class="header" href="#boolean-functions" id="boolean-functions">Boolean functions</a></h1>
<h3><a class="header" href="#and-a-b-c" id="and-a-b-c">[and: a; b; c*]</a></h3>
<p>Performs a short-circuiting boolean AND on the operands and returns the result.</p>
<h3><a class="header" href="#not-a" id="not-a">[not: a]</a></h3>
<p>Returns the inverse of the input boolean value.</p>
<h3><a class="header" href="#or-a-b-c" id="or-a-b-c">[or: a; b; c*]</a></h3>
<p>Performs a short-circuiting boolean OR on the operands and returns the result.</p>
<h3><a class="header" href="#xor-a-b" id="xor-a-b">[xor: a; b]</a></h3>
<p>Performs a boolean XOR on the operands and returns the result.</p>
<h1><a class="header" href="#collection-functions" id="collection-functions">Collection functions</a></h1>
<h3><a class="header" href="#join-separator-list" id="join-separator-list">[join: separator; list]</a></h3>
<p>Prints the elements of a list in order separated by the <code>separator</code> value.</p>
<h3><a class="header" href="#push-list-value" id="push-list-value">[push: list; value]</a></h3>
<p>Adds a value to the end of a list.</p>
<h3><a class="header" href="#pop-list" id="pop-list">[pop: list]</a></h3>
<p>Removes the last value from a list and prints it.</p>
<h3><a class="header" href="#insert-collection-value-pos" id="insert-collection-value-pos">[insert: collection; value; pos]</a></h3>
<p>Inserts <code>value</code> into a list or map at the position <code>pos</code>.</p>
<p>If <code>collection</code> is a list, <code>pos</code> must be an integer.<br>
If <code>collection</code> is a map, <code>pos</code> may be any non-empty value.</p>
<h4><a class="header" href="#errors-2" id="errors-2">Errors</a></h4>
<p>Causes a runtime error if any of the following are true:</p>
<ul>
<li><code>collection</code> is not a list or map</li>
<li><code>pos</code> is an unsupported type for the provided collection</li>
<li><code>collection</code> is a list and <code>pos</code> is out of range</li>
</ul>
<h3><a class="header" href="#remove-collection-pos" id="remove-collection-pos">[remove: collection; pos]</a></h3>
<p>Removes the value at the <code>pos</code> from a list or map.</p>
<p>If <code>collection</code> is a list, <code>pos</code> must be an integer.<br>
If <code>collection</code> is a map, <code>pos</code> may be any non-empty value.</p>
<h4><a class="header" href="#errors-3" id="errors-3">Errors</a></h4>
<p>Causes a runtime error if any of the following are true:</p>
<ul>
<li><code>collection</code> is not a list or map</li>
<li><code>pos</code> is an unsupported type for the provided collection</li>
<li><code>collection</code> is a list and <code>pos</code> is out of range</li>
</ul>
<h3><a class="header" href="#take-collection-pos" id="take-collection-pos">[take: collection; pos]</a></h3>
<p>Removes the value at <code>pos</code> from a list or map and prints it.</p>
<p>If <code>collection</code> is a list, <code>pos</code> must be an integer.<br>
If <code>collection</code> is a map, <code>pos</code> may be any non-empty value.</p>
<h4><a class="header" href="#errors-4" id="errors-4">Errors</a></h4>
<p>Causes a runtime error if any of the following are true:</p>
<ul>
<li><code>collection</code> is not a list or map</li>
<li><code>pos</code> is an unsupported type for the provided collection</li>
<li><code>collection</code> is a list and <code>pos</code> is out of range</li>
</ul>
<h4><a class="header" href="#errors-5" id="errors-5">Errors</a></h4>
<p>Causes a runtime error if <code>collection</code> is a list and the <code>pos</code> is out of range.</p>
<h3><a class="header" href="#clear-collection" id="clear-collection">[clear: collection]</a></h3>
<p>Removes all elements from a list or map.</p>
<h4><a class="header" href="#errors-6" id="errors-6">Errors</a></h4>
<p>Causes a runtime error if <code>collection</code> is not a list or map.</p>
<h3><a class="header" href="#len-obj" id="len-obj">[len: obj]</a></h3>
<p>Prints the length of <code>obj</code> as an integer.</p>
<p>For strings, this is the number of bytes; for lists and maps, this is the number of elements.
All other value types give a length of 0.</p>
<h1><a class="header" href="#block-attributes-1" id="block-attributes-1">Block attributes</a></h1>
<h3><a class="header" href="#count-attrs" id="count-attrs">[count-attrs]</a></h3>
<p>Prints the current size of the attribute frame stack.</p>
<h3><a class="header" href="#else" id="else">[else]</a></h3>
<p>Marks the next block as conditional and causes it to resolve iff the last block was conditional and its condition evaluated to false.</p>
<h3><a class="header" href="#else-if-condition" id="else-if-condition">[else-if: condition]</a></h3>
<p>Marks the next block as conditional and causes it to resolve iff the following are true:</p>
<ul>
<li><code>condition</code> is true</li>
<li>The last block was conditional and its condition evaluated to false</li>
</ul>
<h3><a class="header" href="#if-condition" id="if-condition">[if: condition]</a></h3>
<p>Marks the next block as conditional and causes it to resolve iff <code>condition</code> is true.</p>
<h3><a class="header" href="#mksel-selector-mode" id="mksel-selector-mode">[mksel: selector-mode]</a></h3>
<p>Creates and returns a selector with the specified mode.</p>
<h3><a class="header" href="#selector-modes" id="selector-modes">Selector modes</a></h3>
<table><thead><tr><th>Mode name</th><th>Description</th></tr></thead><tbody>
<tr><td><code>random</code></td><td>Selects a random element each time.</td></tr>
<tr><td><code>one</code></td><td>Selects the same, random element each time.</td></tr>
<tr><td><code>forward</code></td><td>Selects in a wrapping sequence from left to right.</td></tr>
<tr><td><code>reverse</code></td><td>Selects in a wrapping reverse sequence from right to left.</td></tr>
<tr><td><code>deck</code></td><td>Selects each element once in a random sequence, then reshuffles.</td></tr>
<tr><td><code>deck-loop</code></td><td>Selects each element once in a wrapping random sequence, without reshuffling.</td></tr>
<tr><td><code>deck-clamp</code></td><td>Selects each element once in a random sequence, repeating the final element.</td></tr>
<tr><td><code>forward-clamp</code></td><td>Selects from left to right, then repeats the right-most element.</td></tr>
<tr><td><code>reverse-clamp</code></td><td>Selects from right to left, then repeats the left-most element.</td></tr>
<tr><td><code>ping</code></td><td>Selects from left to right, switching directions when a boundary is reached.</td></tr>
<tr><td><code>pong</code></td><td>Selects from left to right, switching directions when a boundary is reached.</td></tr>
<tr><td><code>no-double</code></td><td>Ensures that no one element index is selected twice in a row.</td></tr>
</tbody></table>
<h3><a class="header" href="#push-attrs" id="push-attrs">[push-attrs]</a></h3>
<p>Pushes a new attribute frame onto the attribute frame stack, overriding the previous one.</p>
<h3><a class="header" href="#pop-attrs" id="pop-attrs">[pop-attrs]</a></h3>
<p>Removes the topmost attribute frame from the attribute frame stack, handing control back to the previous one.</p>
<h4><a class="header" href="#errors-7" id="errors-7">Errors</a></h4>
<p>Popping the last attribute frame results in a runtime error.</p>
<h3><a class="header" href="#rep-reps" id="rep-reps">[rep: reps]</a></h3>
<p>Sets the repetition count for the next block to <code>reps</code>.
The value of <code>reps</code> must be non-negative.</p>
<h4><a class="header" href="#example-5" id="example-5">Example</a></h4>
<pre><code class="language-rant"># Print the fragment 3 times
[r:3]{ha}
# hahaha

# Print the fragment between 3 and 8 times
[r:[n:3;8]]{ha}
# hahahaha
# hahahahahahaha
# hahaha
# hahahahaha
# ...
</code></pre>
<h3><a class="header" href="#sel-selector" id="sel-selector">[sel: selector]</a></h3>
<p>Sets the selector for the next block.</p>
<h3><a class="header" href="#sep-separator" id="sep-separator">[sep: separator]</a></h3>
<p>Sets the separator value for the next block to <code>separator</code>.
The value of <code>separator</code> may be a string, number, or function.
If it is a function, it will be called separately for each usage and its return value will be printed.</p>
<h1><a class="header" href="#dynamic-variable-access" id="dynamic-variable-access">Dynamic variable access</a></h1>
<h3><a class="header" href="#def-varname-value" id="def-varname-value">[def: varname; [value]]</a></h3>
<p>Defines the variable <code>varname</code> and sets it to <code>value</code>. If <code>value</code> is not specified, the variable is initialized to <code>&lt;&gt;</code>.</p>
<h3><a class="header" href="#get-varname" id="get-varname">[get: varname]</a></h3>
<p>Prints the value of the variable <code>varname</code>.</p>
<h3><a class="header" href="#set-varname-value" id="set-varname-value">[set: varname; value]</a></h3>
<p>Sets the variable <code>varname</code> to <code>value</code>.</p>
<h1><a class="header" href="#glossary" id="glossary">Glossary</a></h1>
<h3><a class="header" href="#block" id="block">Block</a></h3>
<p>A block is a section of a Rant program subdivided into zero or more parts.
Blocks act as variable scopes and can be combined with various constructs to produce a wide variety of behaviors.</p>
<h3><a class="header" href="#block-attributes-2" id="block-attributes-2">Block attributes</a></h3>
<p>Block attributes provide a way to customize the resolver's behavior through the variable system, such as changing iteration count.</p>
<h3><a class="header" href="#channel" id="channel">Channel</a></h3>
<p>A channel is an independent stream of output from a Rant program. Programs may have more than one channel.</p>
<h3><a class="header" href="#construct" id="construct">Construct</a></h3>
<p>A construct is a group of one or more runtime variables can be used to interact with the Rant runtime 
and customize various aspects of program behavior.</p>
<h3><a class="header" href="#formatter" id="formatter">Formatter</a></h3>
<p>A formatter is a runtime component that mutates output in some way.</p>
<h3><a class="header" href="#fragment" id="fragment">Fragment</a></h3>
<p>A fragment is a sequence of any non-whitespace, non-reserved characters found in a Rant program.</p>
<h3><a class="header" href="#hint" id="hint">Hint</a></h3>
<p>A hint is a compile-time operation that informs the Rant compiler that the next program element is expected to print to the output.</p>
<h3><a class="header" href="#resolution" id="resolution">Resolution</a></h3>
<p>Resolution refers to the process of producing an output from a block, after which the block is referred to as 'resolved.' </p>
<h3><a class="header" href="#resolver" id="resolver">Resolver</a></h3>
<p>The component of the Rant runtime that handles block resolution.</p>
<h3><a class="header" href="#sink" id="sink">Sink</a></h3>
<p>A sink is an operation that suppresses the output of a program element while still allowing its execution.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
